package demo;

import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONObject;
import com.github.ontio.OntSdk;
import com.github.ontio.account.Account;

import com.github.ontio.common.Address;
import com.github.ontio.common.Helper;
import com.github.ontio.core.transaction.Transaction;
import com.github.ontio.crypto.SignatureScheme;
import com.github.ontio.network.exception.ConnectorException;
import com.github.ontio.sdk.exception.SDKException;
import com.github.ontio.sdk.wallet.Identity;
import com.github.ontio.smartcontract.neovm.abi.AbiFunction;
import com.github.ontio.smartcontract.neovm.abi.AbiInfo;
import com.github.ontio.smartcontract.neovm.abi.BuildParams;

import java.io.IOException;
import java.util.ArrayList;
import java.util.Base64;
import java.util.List;

public class MyGame {



    public static OntSdk sdk = OntSdk.getInstance();
    public static String testRpc = "http://polaris1.ont.io:20336";
    public static String localRpc = "http://127.0.0.1:20336";
    public static String zhuwangRpc = "http://dappnode1.ont.io:20336";
    public static String contractAddr = "95adaa30262e21cefe07bb99624d6249ce0b170d";
    public static String password = "LUlu@665211";

    public static Account account;
    public static Account account1;
    public static Account account2;
    public static Account account3;
    public static Account account4;
    public static Account account5;
    public static Account account6;
    public static Account account7;
    public static Account adminAccount;
    public static Account accountN;

    public static Account moneyAccount;



    public static AbiInfo abiInfo;

    public static void main(String[] args) throws Exception {

        String abi = "{\"functions\":[{\"name\":\"Main\",\"parameters\":[{\"name\":\"operation\",\"type\":\"\"},{\"name\":\"args\",\"type\":\"\"}],\"returntype\":\"\"}," +
                "{\"name\":\"init\",\"parameters\":[],\"returntype\":\"\"}," +
                "{\"name\":\"setParameters\",\"parameters\":[{\"name\":\"keyHolderPercen\",\"type\":\"Integer\"},{\"name\":\"bonusPercen\",\"type\":\"Integer\"},{\"name\":\"shareHolderPercen\",\"type\":\"Integer\"},{\"name\":\"invitorPercen\",\"type\":\"Integer\"}],\"returntype\":\"\"}," +
                "{\"name\":\"setDistributeParameters\",\"parameters\":[{\"name\":\"lastBuyerPercen\",\"type\":\"\"},{\"name\":\"nextBonusPercen\",\"type\":\"\"},{\"name\":\"operationPercen\",\"type\":\"\"}],\"returntype\":\"\"}," +
                "{\"name\":\"startNewRound\",\"parameters\":[],\"returntype\":\"\"}," +
                "{\"name\":\"endCurrentRound\",\"parameters\":[],\"returntype\":\"\"}," +
                "{\"name\":\"withdrawOperation\",\"parameters\":[{\"name\":\"account\",\"type\":\"\"}],\"returntype\":\"\"}," +
                "{\"name\":\"withdrawAdmin\",\"parameters\":[{\"name\":\"account\",\"type\":\"ByteArray\"}, {\"name\":\"ongAmount\",\"type\":\"Integer\"}],\"returntype\":\"\"}," +
                "{\"name\":\"withdrawShareHolder\",\"parameters\":[{\"name\":\"account\",\"type\":\"\"}],\"returntype\":\"\"}," +
                "{\"name\":\"withdrawFee\",\"parameters\":[{\"name\":\"account\",\"type\":\"ByteArray\"}],\"returntype\":\"\"}," +
                "{\"name\":\"buyKey\",\"parameters\":[{\"name\":\"account\",\"type\":\"ByteArray\"},{\"name\":\"invitor\",\"type\":\"ByteArray\"}],\"returntype\":\"\"}," +
                "{\"name\":\"invitorPlayer\",\"parameters\":[{\"name\":\"account\",\"type\":\"\"},{\"name\":\"newaccount\",\"type\":\"\"}],\"returntype\":\"\"}," +
                "{\"name\":\"withdrawDividend\",\"parameters\":[{\"name\":\"account\",\"type\":\"ByteArray\"}],\"returntype\":\"\"}," +
                "{\"name\":\"updateDividendBalance\",\"parameters\":[{\"name\":\"account\",\"type\":\"\"},{\"name\":\"currentRound\",\"type\":\"\"}],\"returntype\":\"\"}," +
                "{\"name\":\"getBuyerDistribute\",\"parameters\":[],\"returntype\":\"\"}," +
                "{\"name\":\"getFeeBalance\",\"parameters\":[],\"returntype\":\"\"}," +
                "{\"name\":\"getShareHolderBalance\",\"parameters\":[],\"returntype\":\"\"}," +
                "{\"name\":\"getOperationBalance\",\"parameters\":[],\"returntype\":\"\"}," +
                "{\"name\":\"getBonusDistributePercen\",\"parameters\":[{\"name\":\"\",\"type\":\"\"}],\"returntype\":\"\"}," +
                "{\"name\":\"getLastBuyer\",\"parameters\":[{\"name\":\"currentRound\",\"type\":\"\"}],\"returntype\":\"\"}," +
                "{\"name\":\"getBonusBalance\",\"parameters\":[],\"returntype\":\"\"}," +
                "{\"name\":\"getKeyBalance\",\"parameters\":[{\"name\":\"account\",\"type\":\"\"},{\"name\":\"currentRound\",\"type\":\"\"}],\"returntype\":\"\"}," +
                "{\"name\":\"getDividendBalance\",\"parameters\":[{\"name\":\"account\",\"type\":\"ByteArray\"}],\"returntype\":\"\"}," +
                "{\"name\":\"getInvitor\",\"parameters\":[{\"name\":\"account\",\"type\":\"\"}],\"returntype\":\"\"}," +
                "{\"name\":\"getCurrentRound\",\"parameters\":[],\"returntype\":\"\"}," +
                "{\"name\":\"getCurrentRemainingTime\",\"parameters\":[{\"name\":\"roundNumber\",\"type\":\"Integer\"}],\"returntype\":\"\"}," +
                "{\"name\":\"getRoundGameStatus\",\"parameters\":[{\"name\":\"roundNumber\",\"type\":\"Integer\"}],\"returntype\":\"\"}," +
                "{\"name\":\"getKeyPrice\",\"parameters\":[],\"returntype\":\"\"}," +
                "{\"name\":\"getToTalKey\",\"parameters\":[{\"name\":\"roundNumber\",\"type\":\"\"}],\"returntype\":\"\"}," +
                "{\"name\":\"getProfitPerKey\",\"parameters\":[{\"name\":\"roundNumber\",\"type\":\"\"}],\"returntype\":\"\"}," +
                "{\"name\":\"concatKey\",\"parameters\":[{\"name\":\"str1\",\"type\":\"\"},{\"name\":\"str2\",\"type\":\"\"}],\"returntype\":\"\"}," +
                "{\"name\":\"_transferONG\",\"parameters\":[{\"name\":\"fromAcct\",\"type\":\"\"},{\"name\":\"toAcct\",\"type\":\"\"},{\"name\":\"amount\",\"type\":\"\"}],\"returntype\":\"\"}," +
                "{\"name\":\"_transferONGFromContact\",\"parameters\":[{\"name\":\"toAcct\",\"type\":\"\"},{\"name\":\"amount\",\"type\":\"\"}],\"returntype\":\"\"}," +
                "{\"name\":\"Revert\",\"parameters\":[{\"name\":\"\",\"type\":\"\"}],\"returntype\":\"\"}," +
                "{\"name\":\"Require\",\"parameters\":[{\"name\":\"condition\",\"type\":\"\"}],\"returntype\":\"\"},{\"name\":\"RequireScriptHash\",\"parameters\":[{\"name\":\"key\",\"type\":\"\"}],\"returntype\":\"\"},{\"name\":\"RequireWitness\",\"parameters\":[{\"name\":\"witness\",\"type\":\"\"}],\"returntype\":\"\"},{\"name\":\"Add\",\"parameters\":[{\"name\":\"a\",\"type\":\"\"},{\"name\":\"b\",\"type\":\"\"}],\"returntype\":\"\"},{\"name\":\"Sub\",\"parameters\":[{\"name\":\"a\",\"type\":\"\"},{\"name\":\"b\",\"type\":\"\"}],\"returntype\":\"\"},{\"name\":\"Mul\",\"parameters\":[{\"name\":\"a\",\"type\":\"\"},{\"name\":\"b\",\"type\":\"\"}],\"returntype\":\"\"},{\"name\":\"Div\",\"parameters\":[{\"name\":\"a\",\"type\":\"\"},{\"name\":\"b\",\"type\":\"\"}],\"returntype\":\"\"}]}";


        sdk.setRpc(zhuwangRpc);
        sdk.openWalletFile("cynowallet.dat");
        abiInfo = JSON.parseObject(abi, AbiInfo.class);
        String privateKey = Account.getGcmDecodedPrivateKey("ya+Hu00xI2DDeq9UxKco0GCqM02qJLzTNy/sD9G+ysFBjkoIsomNsu4245y5Pi+G",
                "111111", "AeJGmTDUdSzMdrSHU2pa8rLMo23AAs53LM", Base64.getDecoder().decode("lqOwJxgSRoovcfonWw5emQ=="),
                16384, SignatureScheme.SHA256WITHECDSA);
        account = new Account(Helper.hexToBytes(privateKey), SignatureScheme.SHA256WITHECDSA);
        adminAccount = sdk.getWalletMgr().getAccount("AbPRaepcpBAFHz9zCj4619qch4Aq5hJARA","LUlu@665211");

        String moneyAdminPrivate = Account.getGcmDecodedPrivateKey("h+vi+SA9ZGZb9GFZfwXbTnzctBCigKAI5kWkQvQdNGvwub1e2VTxF9WsCo2zhLcF",
                "LUlu@665211", "AYsaNHgtv9CWYsmhiRVcEhPQUk5nbgQ3Y3", Base64.getDecoder().decode("CQZQkcfX8JtJICHrGtrSug=="),
                16384, SignatureScheme.SHA256WITHECDSA);

        moneyAccount = new Account(Helper.hexToBytes(moneyAdminPrivate), SignatureScheme.SHA256WITHECDSA);


        account1 = getAccount("wR9S/JYwMDfCPWFGEy5DEvWfU14k9suZuL4+woGtfhZJf5+KyL9VJqMi/wGTOd1i","passwordtest","AZqk4i7Zhfhc1CRUtZYKrLw4YTSq4Y9khN","ZaIL8DxNaQ91fkMHAdiBjQ==");
        account2 = getAccount("PCj/a4zUgYnOBNZUVEaXBK61Sq4due8w2RUzrumO3Bm0hZ/3v4mlDiXYYvmmBZUk","passwordtest","ARpjnrnHEjXhg4aw7vY6xsY6CfQ1XEWzWC","wlz1h439j0GwsWhGBByMxg==");
        account3 = getAccount("4U6qYhRUxGYTcvDvBKKCu2C1xUyd0A+pHXsK1YVY1Hbxd8TcbyvmfOcqx7N+f+BH","passwordtest","AQs2BmzzFVk7pQPfTQQi9CTEz43ejSyBnt","AFDFoZAlLGJdB4yVQqYVhw==");
        account4 = getAccount("i6n+FTACzRF5y0oeo6Wm3Zbv68bfjmyRyNfKB5IArK76RCG8b/JgRqnHgMtHixFx","passwordtest","AKBSRLbFNvUrWEGtKxNTpe2ZdkepQjYKfM","FkTZ6czRPAqHnSpEqVEWwA==");
        account5 = getAccount("IoEbJXMPlxNLrAsDYKGD4I6oFYgJl1j603c8oHQl+82yET+ibKgJdZjgdw39pr2K","passwordtest","AduX7odaWGipkdvzBwyaTgsumRbRzhhiwe","lc7ofKCBkNUmjTLrZYmStA==");
        account6 = getAccount("6hynBJVTAhmMJt9bIYSDoz+GL5EFaUGhn3Pd6HsF+RQ1tFyZoFRhT+JNMGAb+B6a","passwordtest","ANFfWhk3A5iFXQrVBHKrerjDDapYmLo5Bi","DTmbW9wzGA8pi4Dcj3/Cpg==");
        account7 = getAccount("EyXxszzKh09jszQXMIFJTmbujnojOzYzPU4cC0wOpuegDgVcRFllATQ81zD0Rp8s","passwordtest","AK3YRcRvKrASQ6nTfW48Z4iMZ2sDTDRiMC","jbwUF7JxgsiJq5QAy5dfug==");


        boolean getCurrentRound2 = false;
        boolean deploy = false;
        boolean init = false;
        boolean startNewRound = false;
        boolean getCurrentRound = false;
        boolean getRoundGameStatus = false;
        boolean getBonusBalance = false;
        boolean getKeyPrice = false;
        boolean getDividendBalance = false;
        boolean getShareHolderBalance = false;
        boolean setParameters = false;
        boolean getFeeBalance = false;
        boolean buyKey = false;
        boolean withdrawDividend = false;
        boolean endCurrentRound = false;
        boolean getCurrentRemainingTime = false;
        boolean getOperationBalance = false;
        boolean withdrawFee = false;
        boolean withdrawAdmin = false;
        accountN = account1;
//        account = adminAccount;

        if(false) {
            System.out.println(sdk.nativevm().ont().queryBalanceOf(account.getAddressU160().toBase58()));
            String txhash = sdk.nativevm().ont().sendTransfer(account,adminAccount.getAddressU160().toBase58(),100000,account,20000,0);
            Thread.sleep(6000);
            System.out.println(sdk.getConnect().getSmartCodeEvent(txhash));
            System.out.println(sdk.nativevm().ong().unboundOng(account.getAddressU160().toBase58()));
            return;
        }

        if(false) {
            sdk.nativevm().ong().withdrawOng(account,account.getAddressU160().toBase58(),81742315000000000L,account,20000,0);
            return;
        }

        if(false) {
            sdk.nativevm().ong().sendTransfer(account,account1.getAddressU160().toBase58(),10000000000L,account,20000,500);
            sdk.nativevm().ong().sendTransfer(account,account2.getAddressU160().toBase58(),10000000000L,account,20000,500);
            sdk.nativevm().ong().sendTransfer(account,account3.getAddressU160().toBase58(),10000000000L,account,20000,500);
            sdk.nativevm().ong().sendTransfer(account,account4.getAddressU160().toBase58(),10000000000L,account,20000,500);
            sdk.nativevm().ong().sendTransfer(account,account5.getAddressU160().toBase58(),10000000000L,account,20000,500);
            sdk.nativevm().ong().sendTransfer(account,account6.getAddressU160().toBase58(),10000000000L,account,20000,500);
            return;
        }

        if(deploy) {
            String codeStr = "013bc56b6a00527ac46a51527ac46a00c304696e69749c640900654c2e6c7566616a00c30d736574506172616d65746572739c6451006a51c300c36a52527ac46a51c351c36a53527ac46a51c352c36a54527ac46a51c353c36a55527ac46a52c36a53c36a54c36a55c35379517955727551727552795279547275527275652a2c6c7566616a00c318736574426f6e757341737369676e506172616d65746572739c6451006a51c300c36a52527ac46a51c351c36a53527ac46a51c352c36a54527ac46a51c353c36a56527ac46a52c36a53c36a54c36a56c3537951795572755172755279527954727552727565e5296c7566616a00c30d73746172744e6577526f756e649c64090065c2276c7566616a00c30d636861726765546f426f6e75739c6414006a51c300c36a51c351c37c65cd266c7566616a00c30f656e6443757272656e74526f756e649c640900654e1f6c7566616a00c31177697468647261774f7065726174696f6e9c640e006a51c300c3652d1d6c7566616a00c30b77697468647261774665659c640e006a51c300c3652a1c6c7566616a00c30d776974686472617741646d696e9c6414006a51c300c36a51c351c37c6555196c7566616a00c30f6d696772617465436f6e74726163749c644a006a51c300c36a51c351c36a51c352c36a51c353c36a51c354c36a51c355c36a51c356c3567951795872755172755579527957727552727554795379567275537275658d246c7566616a00c3066275794b65799c6414006a51c300c36a51c351c37c65d30e6c7566616a00c31077697468647261774469766964656e649c640e006a51c300c365780d6c7566616a00c3136765744f7065726174696f6e42616c616e63659c6409006507086c7566616a00c3126765744469766964656e6442616c616e63659c640e006a51c300c36576056c7566616a00c30f67657443757272656e74526f756e649c6409006514056c7566616a00c312676574526f756e6447616d655374617475739c640e006a51c300c3659e046c7566616a00c30b6765744b657950726963659c6409006540046c7566616a00c30f676574426f6e757342616c616e63659c64090065d1066c7566616a00c30d67657446656542616c616e63659c640900658d076c7566616a00c30c6765744c61737442757965729c640e006a51c300c365d9066c7566616a00c31767657443757272656e7452656d61696e696e6754696d659c640e006a51c300c365cb086c7566616a00c315676574486f6c6465724d6f73744b657956616c75659c640e006a51c300c36538096c7566616a00c3136765744d6f7374416374697665506c617965729c640e006a51c300c36561096c756661006c756657c56b6a00527ac46a51527ac46a51c300a065d600756a00c36a51c3966a52527ac46a52c36c756658c56b6a00527ac46a51527ac46a00c3009c640700006c7566616a00c36a51c3956a52527ac46a52c36c756656c56b6a00527ac46a51527ac46a00c36a51c3a2658000756a00c36a51c3946c756657c56b6a00527ac46a51527ac46a00c36a51c3936a52527ac46a52c36a00c3a2655200756a52c36c756655c56b6a00527ac46a00c3681b53797374656d2e52756e74696d652e436865636b5769746e65737361651f0075516c756655c56b6a00527ac46a00c3c001149c65080075516c756656c56b6a00527ac46a00c36307006509007561516c756653c56b09f4f4f3f3f2f2f1f100f0006c75665bc56b6a00527ac46a51527ac4682d53797374656d2e457865637574696f6e456e67696e652e476574457865637574696e6753637269707448617368616a52527ac41400000000000000000000000000000000000000026a53527ac46a52c36a00c36a51c353c66b6a52527ac46a51527ac46a00527ac46c6a54527ac4006a53c3087472616e736665726a54c351c176c9537951795572755172755279527954727552727568164f6e746f6c6f67792e4e61746976652e496e766f6b65616a55527ac46a55c36410006a55c301019c640700516c756661006c7566006c75665cc56b6a00527ac46a51527ac46a52527ac41400000000000000000000000000000000000000026a53527ac46a00c36581fe756a00c36a51c36a52c353c66b6a52527ac46a51527ac46a00527ac46c6a54527ac4006a53c3087472616e736665726a54c351c176c9537951795572755172755279527954727552727568164f6e746f6c6f67792e4e61746976652e496e766f6b65616a55527ac46a55c36410006a55c301019c640700516c756661006c7566006c756655c56b6a00527ac46a51527ac46a00c3015f7e6a51c37e6c756655c56b6a00527ac4036b30346a51527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a51c36a00c37c65b2ff7c681253797374656d2e53746f726167652e476574616c756655c56b6a00527ac4036b30336a51527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a51c36a00c37c6562ff7c681253797374656d2e53746f726167652e476574616c756654c56b036b31306a00527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a00c37c681253797374656d2e53746f726167652e476574616c756655c56b6a00527ac4034730326a51527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a51c36a00c37c65cefe7c681253797374656d2e53746f726167652e476574616c756654c56b034730316a00527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a00c37c681253797374656d2e53746f726167652e476574616c75665ec56b6a00527ac4036b30346a51527ac4036b30356a52527ac4036b30366a53527ac46599ff6a54527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a52c36a00c37c6520fe6a54c37c6519fe7c681253797374656d2e53746f726167652e476574616a55527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a51c36a54c37c65d8fd7c681253797374656d2e53746f726167652e476574616a56527ac46a56c36a55c3946a57527ac4006a58527ac46a57c3009e6419006a57c36a00c36a54c37c65a3007c6514fb6a58527ac461681953797374656d2e53746f726167652e476574436f6e74657874616a53c36a00c37c6566fd7c681253797374656d2e53746f726167652e476574616a58c37c6519fb6c756655c56b6a00527ac4036b30376a51527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a51c36a00c37c650ffd7c681253797374656d2e53746f726167652e476574616c756656c56b6a00527ac46a51527ac4036b30326a52527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a52c36a00c37c65bafc6a51c37c65b3fc7c681253797374656d2e53746f726167652e476574616c756654c56b036b30396a00527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a00c37c681253797374656d2e53746f726167652e476574616c756655c56b6a00527ac4036b31326a51527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a51c36a00c37c651ffc7c681253797374656d2e53746f726167652e476574616c756654c56b036b30386a00527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a00c37c681253797374656d2e53746f726167652e476574616c756654c56b036b31316a00527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a00c37c681253797374656d2e53746f726167652e476574616c756655c56b6a00527ac4036b31336a51527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a51c36a00c37c6547fb7c681253797374656d2e53746f726167652e476574616c756658c56b6a00527ac46a51527ac4006a53527ac46a51c3c06a54527ac4616a53c36a54c39f642a006a51c36a53c3c36a52527ac46a53c351936a53527ac46a00c36a52c39c64d8ff516c756662d1ff616161006c756655c56b6a00527ac4036b31346a51527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a51c36a00c37c65a2fa7c681253797374656d2e53746f726167652e476574616c756655c56b6a00527ac4036b31356a51527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a51c36a00c37c6552fa7c681253797374656d2e53746f726167652e476574616c75665fc56b6a00527ac40752554e4e494e476a51527ac46a00c36548ff6a52527ac46a00c36511fb6a53527ac46a53c36a51c39c645d006a00c36578ff6a54527ac46a54c3644c00681653797374656d2e52756e74696d652e47657454696d65616a55527ac46a55c36a54c37c6579f76a56527ac46a56c36a52c39f6410006a52c36a56c37c6560f76c756661006c7566616a52c36c756655c56b6a00527ac4036b31366a51527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a51c36a00c37c656cf97c681253797374656d2e53746f726167652e476574616c756655c56b6a00527ac4036b31376a51527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a51c36a00c37c651cf97c681253797374656d2e53746f726167652e476574616c756656c56b6a00527ac46a51527ac4036b31386a52527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a52c36a00c37c65c7f86a51c37c65c0f87c681253797374656d2e53746f726167652e476574616c75665dc56b6a00527ac46a51527ac4036b31376a52527ac46a51c3653bff6a53527ac46a53c3646e006a00c36a51c37c6576ff6a54527ac46a53c36a51c37c6567ff6a55527ac46a55c36a54c3a1648700681953797374656d2e53746f726167652e476574436f6e74657874616a52c36a51c37c6532f86a00c35272681253797374656d2e53746f726167652e5075746162440061681953797374656d2e53746f726167652e476574436f6e74657874616a52c36a51c37c65eef76a00c35272681253797374656d2e53746f726167652e5075746161516c75665dc56b6a00527ac46a51527ac4036b30356a52527ac4036b30366a53527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a52c36a00c37c658af76a51c37c6583f77c681253797374656d2e53746f726167652e476574616a54527ac46a51c3657cf76a55527ac46a55c36a54c37c6501f56a56527ac46a56c3009e648d00681953797374656d2e53746f726167652e476574436f6e74657874616a53c36a00c37c6520f76a00c365acf85272681253797374656d2e53746f726167652e50757461681953797374656d2e53746f726167652e476574436f6e74657874616a52c36a00c37c65ddf66a51c37c65d6f66a55c35272681253797374656d2e53746f726167652e5075746161516c75660111c56b6a00527ac4036b30356a51527ac4036b30366a52527ac46a00c36590f47565e0f76a53527ac46a00c36519f86a54527ac46a00c36539f96a55527ac46a54c3009c640f006a55c3009c640700006c7566616a00c36a54c36a55c37c6525f47c65bcf46590f475681953797374656d2e53746f726167652e476574436f6e74657874616a52c36a00c37c6527f6005272681253797374656d2e53746f726167652e507574616a53c36523f66a56527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a51c36a00c37c65def56a53c37c65d7f56a56c35272681253797374656d2e53746f726167652e507574611077697468647261774469766964656e646a00c36a54c36a55c36a53c355c176c9681553797374656d2e52756e74696d652e4e6f7469667961516c75660159c56b6a00527ac46a51527ac4682d53797374656d2e457865637574696f6e456e67696e652e476574457865637574696e6753637269707448617368616a52527ac40752554e4e494e476a53527ac40400ca9a3b6a54527ac4036b30326a55527ac4036b30336a56527ac4036b30346a57527ac4036b30376a58527ac4036b30386a59527ac4036b30396a5a527ac4036b31306a5b527ac4036b31316a5c527ac4036b31326a5d527ac4036b31336a5e527ac4036b31346a5f527ac4036b31356a60527ac4036b31366a0111527ac4036b31386a0112527ac4037030316a0113527ac4037030326a0114527ac4037030336a0115527ac4037030346a0116527ac465c9f56a0117527ac46a0117c3656cf56a53c39c65a9f275651df56a0118527ac46a00c36a52c36a0118c352726598f3658df2756a0118c3557c65c3f101647c6595f16a0119527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a5cc37c681253797374656d2e53746f726167652e476574616a011a527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a5cc36a0119c36a011ac37c659ff15272681253797374656d2e53746f726167652e50757461681953797374656d2e53746f726167652e476574436f6e74657874616a0115c37c681253797374656d2e53746f726167652e476574616a011b527ac46a0118c36a011bc37c65f2f001647c65c4f06a011c527ac4655ef76a011d527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a59c36a011dc36a011cc37c6500f15272681253797374656d2e53746f726167652e50757461681953797374656d2e53746f726167652e476574436f6e74657874616a0116c37c681253797374656d2e53746f726167652e476574616a011e527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a0114c37c681253797374656d2e53746f726167652e476574616a011f527ac46a51c36473006a0118c36a011ec37c6511f001647c65e3ef6a0120527ac46a51c3653af56a0121527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a58c36a51c37c6551f26a0121c36a0120c37c6515f05272681253797374656d2e53746f726167652e50757461621600616a011fc36a011ec37c65eeef6a011f527ac4616a0118c36a011fc37c658def01647c655fef6a0122527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a5ac37c681253797374656d2e53746f726167652e476574616a0123527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a5ac36a0123c36a0122c37c6569ef5272681253797374656d2e53746f726167652e50757461681953797374656d2e53746f726167652e476574436f6e74657874616a0113c37c681253797374656d2e53746f726167652e476574616a0124527ac46a0118c36a0124c37c65bcee01647c658eee6a0125527ac46a0117c36591f16a0126527ac46a0117c36534f16a0127527ac46a0126c3009e6462006a0125c36a0126c37c6559ee6a0128527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a57c36a0117c37c65d2f06a0127c36a0128c37c6596ee5272681253797374656d2e53746f726167652e50757461624f00616511f46a0123527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a5ac36a0123c36a0125c37c6547ee5272681253797374656d2e53746f726167652e50757461616a00c36a0117c37c6588f875681953797374656d2e53746f726167652e476574436f6e74657874616a55c36a00c37c652df06a0117c37c6525f06a0118c35a7c659eed6a54c37c656fed6a00c36a0117c37c6517f37c65d6ed5272681253797374656d2e53746f726167652e50757461681953797374656d2e53746f726167652e476574436f6e74657874616a56c36a0117c37c65c8ef6a0118c35a7c6541ed6a54c37c6512ed6a0117c3651bf07c657ded5272681253797374656d2e53746f726167652e50757461681953797374656d2e53746f726167652e476574436f6e74657874616a5bc36a0118c36a54c35a7c65c5ec7c6537ed5272681253797374656d2e53746f726167652e50757461681953797374656d2e53746f726167652e476574436f6e74657874616a0112c36a00c37c6529ef6a0117c37c6521ef6a00c36a0117c37c6516f6517c65e1ec5272681253797374656d2e53746f726167652e507574616a0117c365a0f26a0129527ac46a0129c36407016a0129c36a00c39e64fc006a0129c36a0117c37c65dcf16a012a527ac46a0117c36522f56a012b527ac46a012bc36492006a012bc36a0129c39e6486006a012bc36a0117c37c65aaf16a012c527ac46a012cc36a012ac3a1645600681953797374656d2e53746f726167652e476574436f6e74657874616a0111c36a0117c37c6563ee6a0129c35272681253797374656d2e53746f726167652e507574616a012bc36a0117c37c6598f575621100616a0129c36a0117c37c6587f5756162470061681953797374656d2e53746f726167652e476574436f6e74657874616a0111c36a0117c37c65fded6a0129c35272681253797374656d2e53746f726167652e5075746161681953797374656d2e53746f726167652e476574436f6e74657874616a5dc36a0117c37c65baed6a00c35272681253797374656d2e53746f726167652e50757461681653797374656d2e52756e74696d652e47657454696d65616a012d527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a60c36a0117c37c655aed6a012dc35272681253797374656d2e53746f726167652e507574616a0117c36562f26a012e527ac46a012ec3038051019f64b5006a012ec36a0118c36a54c37c6571ea517c6594ea7c65deea6a012e527ac46a012ec3038051019f644800681953797374656d2e53746f726167652e476574436f6e74657874616a5fc36a0117c37c65d5ec6a012ec35272681253797374656d2e53746f726167652e5075746162460061681953797374656d2e53746f726167652e476574436f6e74657874616a5fc36a0117c37c658fec038051015272681253797374656d2e53746f726167652e50757461616a0117c365f1f06a012f527ac46a012fc36443006a012fc3681a53797374656d2e52756e74696d652e446573657269616c697a65616a0130527ac46a00c36a0130c37c6502f16379006a0130c36a00c3c8626e00616a00c351c176c96a0130527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a5ec36a0117c37c65eaeb6a0130c3681853797374656d2e52756e74696d652e53657269616c697a65615272681253797374656d2e53746f726167652e5075746161066275794b65796a00c36a0118c36a0117c36a012dc355c176c9681553797374656d2e52756e74696d652e4e6f7469667961516c756658c56b6a00527ac46a51527ac422416250526165706370424146487a397a436a3436313971636834417135684a4152417514d7239affb684c3c224476eb7bd52d9b2cb5e2aab6a52527ac46a52c36526e9756a00c36a51c37c658ce96560e975516c75665ec56b6a00527ac422416250526165706370424146487a397a436a3436313971636834417135684a4152417514d7239affb684c3c224476eb7bd52d9b2cb5e2aab6a51527ac40752554e4e494e476a52527ac40753555350454e446a53527ac4036b31356a54527ac4034730326a55527ac46a00c3659feb6a53c39c65dce8756a51c3658de875681953797374656d2e53746f726167652e476574436f6e74657874616a55c36a00c37c656cea6a52c35272681253797374656d2e53746f726167652e50757461681953797374656d2e53746f726167652e476574436f6e74657874616a54c36a00c37c652cea681653797374656d2e52756e74696d652e47657454696d65615272681253797374656d2e53746f726167652e5075746114636f6e74696e756543757272656e74526f756e646a00c352c176c9681553797374656d2e52756e74696d652e4e6f7469667961516c75665cc56b6a00527ac422416250526165706370424146487a397a436a3436313971636834417135684a4152417514d7239affb684c3c224476eb7bd52d9b2cb5e2aab6a51527ac40752554e4e494e476a52527ac40753555350454e446a53527ac4034730326a54527ac46a00c36553ea6a52c39c6590e7756a51c36541e775681953797374656d2e53746f726167652e476574436f6e74657874616a54c36a00c37c6520e96a53c35272681253797374656d2e53746f726167652e507574611373757370656e6443757272656e74526f756e646a00c352c176c9681553797374656d2e52756e74696d652e4e6f7469667961516c75665dc56b6a00527ac422416250526165706370424146487a397a436a3436313971636834417135684a4152417514d7239affb684c3c224476eb7bd52d9b2cb5e2aab6a51527ac4036b31316a52527ac46a51c36574e67565b7ec6a53527ac46a53c3647a006a00c36a53c37c65cce665a0e675681953797374656d2e53746f726167652e476574436f6e74657874616a52c3005272681253797374656d2e53746f726167652e507574610b77697468647261774665656a00c36a53c353c176c9681553797374656d2e52756e74696d652e4e6f7469667961516c756661006c7566006c75665bc56b6a00527ac422416250526165706370424146487a397a436a3436313971636834417135684a4152417514d7239affb684c3c224476eb7bd52d9b2cb5e2aab6a51527ac4036b30386a52527ac46a51c36590e575658feb6a53527ac46a00c36a53c37c65eee565c2e575681953797374656d2e53746f726167652e476574436f6e74657874616a52c3005272681253797374656d2e53746f726167652e507574611177697468647261774f7065726174696f6e6a00c36a53c353c176c9681553797374656d2e52756e74696d652e4e6f7469667961516c75665dc56b6a00527ac4036b30356a51527ac4036b30366a52527ac46a00c36575eb6a53527ac46a53c3681a53797374656d2e52756e74696d652e446573657269616c697a65616a54527ac46a00c365dae66a55527ac4006a58527ac46a54c3c06a59527ac4616a58c36a59c39f64ae006a54c36a58c3c36a56527ac46a58c351936a58527ac46a56c36517e86a57527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a52c36a56c37c655ae66a57c35272681253797374656d2e53746f726167652e50757461681953797374656d2e53746f726167652e476574436f6e74657874616a51c36a56c37c651ae66a00c37c6513e66a55c35272681253797374656d2e53746f726167652e50757461624dff616161516c75660134c56b22416250526165706370424146487a397a436a3436313971636834417135684a4152417514d7239affb684c3c224476eb7bd52d9b2cb5e2aab6a00527ac40752554e4e494e476a51527ac403454e446a52527ac4036b30326a53527ac4036b30366a54527ac4036b30386a55527ac4036b30396a56527ac4036b31376a57527ac4037030356a58527ac4037030366a59527ac4037030376a5a527ac4037030386a5b527ac4037030396a5c527ac4034730326a5d527ac46a00c36528e3756578e66a5e527ac46a5ec3651de66a51c39c655ae375657de86a5f527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a58c37c681253797374656d2e53746f726167652e476574616a60527ac46a5fc36a60c37c654de201647c651fe26a0111527ac46a5ec36566e86a0112527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a54c36a0112c37c658ce47c681253797374656d2e53746f726167652e476574616a0113527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a54c36a0112c37c6549e46a0113c36a0111c37c650de25272681253797374656d2e53746f726167652e50757461681953797374656d2e53746f726167652e476574436f6e74657874616a59c37c681253797374656d2e53746f726167652e476574616a0114527ac46a5fc36a0114c37c6562e101647c6534e16a0115527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a56c36a0115c35272681253797374656d2e53746f726167652e50757461681953797374656d2e53746f726167652e476574436f6e74657874616a5ac37c681253797374656d2e53746f726167652e476574616a0116527ac46a5fc36a0116c37c65d6e001647c65a8e06a0117527ac46542e76a0118527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a55c36a0118c36a0117c37c65e4e05272681253797374656d2e53746f726167652e50757461681953797374656d2e53746f726167652e476574436f6e74657874616a5bc37c681253797374656d2e53746f726167652e476574616a0119527ac46a5fc36a0119c37c6539e001647c650be06a011a527ac46a5ec36505e96a011b527ac46a011bc3649300681953797374656d2e53746f726167652e476574436f6e74657874616a54c36a011bc37c6571e27c681253797374656d2e53746f726167652e476574616a011c527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a54c36a011bc37c652ee26a011ac36a011cc37c65f2df5272681253797374656d2e53746f726167652e50757461624c0061006a011a527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a56c36a011ac36543e57c65a6df5272681253797374656d2e53746f726167652e5075746161681953797374656d2e53746f726167652e476574436f6e74657874616a5cc37c681253797374656d2e53746f726167652e476574616a011d527ac46a5fc36a011dc37c65fade01647c65ccde6a011e527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a57c36a5ec37c6546e17c681253797374656d2e53746f726167652e476574616a011f527ac46a011fc36464006a011fc365aee26a0120527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a53c36a011fc37c65efe06a5ec37c65e8e06a011ec36a0120c37c65acde5272681253797374656d2e53746f726167652e50757461624c0061006a011e527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a56c36a011ec365fde37c6560de5272681253797374656d2e53746f726167652e50757461616a5ec36565f975681953797374656d2e53746f726167652e476574436f6e74657874616a5dc36a5ec37c654be06a52c35272681253797374656d2e53746f726167652e507574610f656e6443757272656e74526f756e646a0112c36a0111c36a011bc36a011ac36a011fc36a011ec36a5ec358c176c9681553797374656d2e52756e74696d652e4e6f7469667961516c75660111c56b6a00527ac46a51527ac46a52527ac46a53527ac46a54527ac46a55527ac46a56527ac422416250526165706370424146487a397a436a3436313971636834417135684a4152417514d7239affb684c3c224476eb7bd52d9b2cb5e2aab6a57527ac422416250526165706370424146487a397a436a3436313971636834417135684a4152417514d7239affb684c3c224476eb7bd52d9b2cb5e2aab6a58527ac46a58c36537dd756a57c36530dd756a00c36a51c36a52c36a53c36a54c36a55c36a56c356795179587275517275557952795772755272755479537956727553727568194f6e746f6c6f67792e436f6e74726163742e4d696772617465616a59527ac46a59c3651ddd750f6d696772617465436f6e74726163746a58c3681653797374656d2e52756e74696d652e47657454696d656153c176c9681553797374656d2e52756e74696d652e4e6f7469667961516c75665dc56b6a00527ac46a51527ac41400000000000000000000000000000000000000026a52527ac4036b30396a53527ac46a51c300a06598dc756a00c36549dc756a00c36a52c36a51c35272658add657fdc7565a2e16a54527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a53c36a54c36a51c37c65dbdb5272681253797374656d2e53746f726167652e507574610d636861726765546f426f6e75736a00c36a51c353c176c9681553797374656d2e52756e74696d652e4e6f7469667961516c75660118c56b22416250526165706370424146487a397a436a3436313971636834417135684a4152417514d7239affb684c3c224476eb7bd52d9b2cb5e2aab6a00527ac40752554e4e494e476a51527ac403454e446a52527ac40400ca9a3b6a53527ac402100e6a54527ac4036b31306a55527ac4036b31346a56527ac4034730316a57527ac4034730326a58527ac4657dde6a59527ac46a59c3641c006a59c3651cde6a5a527ac46a5ac36a52c39e640700006c7566616a00c3681b53797374656d2e52756e74696d652e436865636b5769746e657373616a59c3517c65b1da6a5b527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a57c36a5bc35272681253797374656d2e53746f726167652e50757461681953797374656d2e53746f726167652e476574436f6e74657874616a58c36a5bc37c657ddc6a51c35272681253797374656d2e53746f726167652e50757461681953797374656d2e53746f726167652e476574436f6e74657874616a55c36a53c35272681253797374656d2e53746f726167652e50757461681953797374656d2e53746f726167652e476574436f6e74657874616a56c36a5bc37c6504dc6a54c35272681253797374656d2e53746f726167652e507574610d73746172744e6577526f756e646a5bc352c176c9681553797374656d2e52756e74696d652e4e6f7469667961516c75660115c56b6a00527ac46a51527ac46a52527ac46a53527ac46a54527ac422416250526165706370424146487a397a436a3436313971636834417135684a4152417514d7239affb684c3c224476eb7bd52d9b2cb5e2aab6a55527ac4037030356a56527ac4037030366a57527ac4037030376a58527ac4037030386a59527ac4037030396a5a527ac46a00c36a51c37c65f7d86a52c37c65f0d86a53c37c65e9d86a54c37c65e2d801649c654ed9756a55c365ffd875681953797374656d2e53746f726167652e476574436f6e74657874616a56c36a00c35272681253797374656d2e53746f726167652e50757461681953797374656d2e53746f726167652e476574436f6e74657874616a57c36a51c35272681253797374656d2e53746f726167652e50757461681953797374656d2e53746f726167652e476574436f6e74657874616a58c36a52c35272681253797374656d2e53746f726167652e50757461681953797374656d2e53746f726167652e476574436f6e74657874616a59c36a53c35272681253797374656d2e53746f726167652e50757461681953797374656d2e53746f726167652e476574436f6e74657874616a5ac36a54c35272681253797374656d2e53746f726167652e50757461516c75660113c56b6a00527ac46a51527ac46a52527ac46a53527ac422416250526165706370424146487a397a436a3436313971636834417135684a4152417514d7239affb684c3c224476eb7bd52d9b2cb5e2aab6a54527ac4037030316a55527ac4037030326a56527ac4037030336a57527ac4037030346a58527ac46a00c36a51c37c652fd76a52c37c6528d76a53c37c6521d7015f9c658dd7756a54c3653ed775681953797374656d2e53746f726167652e476574436f6e74657874616a55c36a00c35272681253797374656d2e53746f726167652e50757461681953797374656d2e53746f726167652e476574436f6e74657874616a56c36a51c35272681253797374656d2e53746f726167652e50757461681953797374656d2e53746f726167652e476574436f6e74657874616a57c36a52c35272681253797374656d2e53746f726167652e50757461681953797374656d2e53746f726167652e476574436f6e74657874616a58c36a53c35272681253797374656d2e53746f726167652e507574610d736574506172616d65746572736a00c36a51c36a52c36a53c355c176c9681553797374656d2e52756e74696d652e4e6f7469667961516c75665cc56b04696e69746a00527ac4681953797374656d2e53746f726167652e476574436f6e74657874616a00c37c681253797374656d2e53746f726167652e476574616a51527ac46a51c3645400304964696f742c74686520636f6e74726163742068617320616c7265616479206265656e20696e697469616c697a65642151c176c9681553797374656d2e52756e74696d652e4e6f7469667961006c756661681953797374656d2e53746f726167652e476574436f6e74657874616a00c301595272681253797374656d2e53746f726167652e5075746101280131555153795179557275517275527952795472755272756551fd75012d011e5a5a555479517956727551727553795279557275527275655cfb7522496e697469616c697a656420636f6e7472616374207375636365737366756c6c792151c176c9681553797374656d2e52756e74696d652e4e6f7469667961516c75665ec56b6a00527ac46a51527ac46a51c36a00c3946a52527ac46a52c3c56a53527ac4006a54527ac46a00c36a55527ac461616a00c36a51c39f6433006a54c36a55c3936a56527ac46a56c36a53c36a54c37bc46a54c351936a54527ac46a55c36a54c3936a00527ac462c8ff6161616a53c36c7566";
            Transaction tx = sdk.vm().makeDeployCodeTransaction(codeStr, true,"1","1","sss","1","1",adminAccount.getAddressU160().toBase58(), 22600000,0);
            sdk.signTx(tx, new Account[][]{{adminAccount}});
            Object res = sdk.getConnect().syncSendRawTransaction(Helper.toHexString(tx.toArray()));
            System.out.println("res:" + res);
            return;
        }
        if(init){
            AbiFunction func = abiInfo.getFunction("init");
            String txhash = (String) sdk.neovm().sendTransaction(Helper.reverse(contractAddr),adminAccount,adminAccount,2000000,0,func,false);
            Thread.sleep(6000);
            Object obj = sdk.getConnect().getSmartCodeEvent(txhash);
            System.out.println(obj);

        }
        if(getCurrentRound2){
            getCurrentRound2();
        }

        if(withdrawFee){
            withdrawFee();
        }
        if(getFeeBalance){
            getFeeBalance();
        }

        if(startNewRound){
            startNewRound();
        }
        if(withdrawDividend){
            withdrawDividend();
        }

        if(getCurrentRound){
            getCurrentRound();
        }
        if(getRoundGameStatus){
            getRoundGameStatus();
        }
        if(getBonusBalance){
            getBonusBalance();
        }
        if(getKeyPrice) {
            getKeyPrice();
        }

        if(buyKey){
            buyKey();
        }

        if(getDividendBalance) {
            getDividendBalance();
        }
        if(getShareHolderBalance) {
            getShareHolderBalance();
        }
        if(setParameters){
            setParameters();
        }
        if (endCurrentRound){
            endCurrentRound();
        }
        if(getCurrentRemainingTime){
            getCurrentRemainingTime();
        }
        if (getOperationBalance){
            getOperationBalance();
        }
    }

    public static void withdrawFee() throws Exception {
        getFeeBalance();
        AbiFunction func = abiInfo.getFunction("withdrawFee");
        func.setParamsValue(adminAccount.getAddressU160().toArray());
        String txhash = (String) sdk.neovm().sendTransaction(Helper.reverse(contractAddr),adminAccount,adminAccount,2000000,0,func,false);
        Thread.sleep(6000);
        Object obj = sdk.getConnect().getSmartCodeEvent(txhash);
        System.out.println(obj);
        getFeeBalance();
    }

    public static void withdrawAdmin() throws Exception {
        getFeeBalance();
        AbiFunction func = abiInfo.getFunction("withdrawAdmin");
        func.setParamsValue(moneyAccount.getAddressU160().toArray(), 100L);
        String txhash = (String) sdk.neovm().sendTransaction(Helper.reverse(contractAddr),moneyAccount,moneyAccount,2000000,500,func,false);
        Thread.sleep(6000);
        Object obj = sdk.getConnect().getSmartCodeEvent(txhash);
        System.out.println(obj);
        getFeeBalance();
    }

    public static void getCurrentRound2() throws SDKException, ConnectorException, IOException {
        List paramList = new ArrayList();
        paramList.add("getCurrentRound".getBytes());
        List temp = new ArrayList();
        paramList.add(temp);
        byte[] args = BuildParams.createCodeParamsScript(paramList);
        Transaction tx = sdk.vm().makeInvokeCodeTransaction(Helper.reverse(contractAddr), (String)null, args, (String)null, 0L, 0L);

        Object obj = sdk.getConnect().sendRawTransactionPreExec(tx.toHexString());
        System.out.println(Long.valueOf(Helper.reverse(((JSONObject)obj).getString("Result")), 16));
    }

    public static void getOperationBalance() throws Exception {
        AbiFunction func = abiInfo.getFunction("getOperationBalance");
        Object obj = sdk.neovm().sendTransaction(Helper.reverse(contractAddr),adminAccount,adminAccount,2000000,0,func,true);
        System.out.println(obj);
        System.out.println(Long.valueOf(Helper.reverse(((JSONObject)obj).getString("Result")), 16).doubleValue()/1000000000);
    }

    public static void startNewRound() throws Exception {
        AbiFunction func = abiInfo.getFunction("startNewRound");
        String txhash = (String) sdk.neovm().sendTransaction(Helper.reverse(contractAddr),adminAccount,adminAccount,2000000,500,func,false);
        Thread.sleep(6000);
        Object obj = sdk.getConnect().getSmartCodeEvent(txhash);
        System.out.println(obj);
        return;
    }
    public static void withdrawDividend() throws Exception {
        System.out.println(sdk.nativevm().ong().queryBalanceOf(accountN.getAddressU160().toBase58()));
        getDividendBalance();
        AbiFunction func = abiInfo.getFunction("withdrawDividend");
        func.setParamsValue(accountN.getAddressU160().toArray());
        String txhash = (String) sdk.neovm().sendTransaction(Helper.reverse(contractAddr),accountN,accountN,2000000,0,func,false);
        Thread.sleep(6000);
        Object obj = sdk.getConnect().getSmartCodeEvent(txhash);
        System.out.println(obj);
        getDividendBalance();
        System.out.println(sdk.nativevm().ong().queryBalanceOf(accountN.getAddressU160().toBase58()));
    }
    public static void getCurrentRound() throws Exception {
        AbiFunction func = abiInfo.getFunction("getCurrentRound");
        Object obj = sdk.neovm().sendTransaction(Helper.reverse(contractAddr),adminAccount,adminAccount,2000000,0,func,true);
        System.out.println(obj);
        return;
    }
    public static void getRoundGameStatus() throws Exception {
        AbiFunction func = abiInfo.getFunction("getRoundGameStatus");
        func.setParamsValue(1L);
        Object obj = sdk.neovm().sendTransaction(Helper.reverse(contractAddr),adminAccount,adminAccount,2000000,0,func,true);
        System.out.println(new String(Helper.hexToBytes(((JSONObject)obj).getString("Result"))));
    }
    public static void getBonusBalance() throws Exception {
        AbiFunction func = abiInfo.getFunction("getBonusBalance");
        Object obj = sdk.neovm().sendTransaction(Helper.reverse(contractAddr),adminAccount,adminAccount,2000000,0,func,true);
        System.out.println(obj);
        System.out.println(Long.valueOf(Helper.reverse(((JSONObject)obj).getString("Result")), 16).doubleValue()/1000000000);
    }
    public static void getKeyPrice() throws Exception {
        AbiFunction func = abiInfo.getFunction("getKeyPrice");
        Object obj = sdk.neovm().sendTransaction(Helper.reverse(contractAddr),adminAccount,adminAccount,2000000,0,func,true);
        System.out.println(Long.valueOf(Helper.reverse(((JSONObject)obj).getString("Result")), 16).doubleValue()/1000000000.0000);
    }
    public static void buyKey() throws Exception {
        AbiFunction func = abiInfo.getFunction("buyKey");
        func.setParamsValue(accountN.getAddressU160().toArray(), accountN.getAddressU160().toArray());
//        String txhash = (String) sdk.neovm().sendTransaction(Helper.reverse(contractAddr),accountN,accountN,20000000,500,func,false);

//        System.out.println(txhash);
//        Thread.sleep(6000);
//        Object obj = sdk.getConnect().getSmartCodeEvent(txhash);
        Object obj =  sdk.neovm().sendTransaction(Helper.reverse(contractAddr),accountN,accountN,20000000,500,func,true);
        System.out.println(obj);
    }
    public static void endCurrentRound() throws Exception {
        AbiFunction func = abiInfo.getFunction("endCurrentRound");
        String txhash = (String) sdk.neovm().sendTransaction(Helper.reverse(contractAddr),adminAccount,adminAccount,2000000,500,func,false);
        Thread.sleep(6000);
        Object obj = sdk.getConnect().getSmartCodeEvent(txhash);
        System.out.println(obj);
    }
    public static void getDividendBalance() throws Exception {
        AbiFunction func = abiInfo.getFunction("getDividendBalance");
//        func.setParamsValue(accountN.getAddressU160().toArray(),1L);
        func.setParamsValue(Address.decodeBase58("AMAqR8Y8JWngDk5QsoGpa7vPhu5Tu5KKeS").toArray());
        Object obj = sdk.neovm().sendTransaction(Helper.reverse(contractAddr),adminAccount,adminAccount,2000000,0,func,true);
        System.out.println(Long.valueOf(Helper.reverse(((JSONObject)obj).getString("Result")), 16)/1000000000.0000);
    }

    public static void getCurrentRemainingTime() throws Exception {
        AbiFunction func = abiInfo.getFunction("getCurrentRemainingTime");
        func.setParamsValue(1L);
        Object obj = sdk.neovm().sendTransaction(Helper.reverse(contractAddr),adminAccount,adminAccount,2000000,0,func,true);
        System.out.println(Long.valueOf(Helper.reverse(((JSONObject)obj).getString("Result")), 16));
    }
    public static void getShareHolderBalance() throws Exception {
        AbiFunction func = abiInfo.getFunction("getShareHolderBalance");
        Object obj = sdk.neovm().sendTransaction(Helper.reverse(contractAddr),adminAccount,adminAccount,2000000,0,func,true);
        System.out.println(Long.valueOf(Helper.reverse(((JSONObject)obj).getString("Result")), 16)/1000000000.0000);
    }
    public static void setParameters() throws Exception {
        AbiFunction func = abiInfo.getFunction("setParameters");
        func.setParamsValue();
        String txhash = (String) sdk.neovm().sendTransaction(Helper.reverse(contractAddr),account,account,2000000,0,func,false);
        Thread.sleep(6000);
        Object obj = sdk.getConnect().getSmartCodeEvent(txhash);
        System.out.println(obj);
    }

    public static void getFeeBalance() throws Exception {
        AbiFunction func = abiInfo.getFunction("getFeeBalance");
        Object obj = sdk.neovm().sendTransaction(Helper.reverse(contractAddr),adminAccount,adminAccount,2000000,0,func,true);
        if(((JSONObject)obj).getString("Result").equals("")){
            System.out.println(0);
            return;
        }
        System.out.println(Long.valueOf(Helper.reverse(((JSONObject)obj).getString("Result")), 16)/1000000000.0000);
    }


    public static Account getAccount(String enpri,String password,String address,String salt) throws Exception {
        String privateKey = Account.getGcmDecodedPrivateKey(enpri,password,address,Base64.getDecoder().decode(salt),16384,SignatureScheme.SHA256WITHECDSA);
        Account account = new Account(Helper.hexToBytes(privateKey),SignatureScheme.SHA256WITHECDSA);
//        System.out.println(Helper.toHexString(account.serializePublicKey()));
        return account;
    }
}
